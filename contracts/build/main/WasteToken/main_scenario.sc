[{"shortname": "Subscription", "longname": "Subscription", "scenario": [{"action": "html", "tag": "h1", "inner": "Subscription based Token", "line_no": 256}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 258}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 266}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 267 (account_of_seed \"Administrator\" 261) (account_of_seed \"Alice\" 262) (account_of_seed \"Robert\" 263))", "line_no": 267}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 269}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 273}, {"action": "newContract", "id": 1, "export": "(storage (record 5 (administrator (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (balances (type_annotation (big_map 5 ) (bigmap (unknown 6) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 5)) (paused (literal (bool False) 5)) (totalSupply (literal (intOrNat 0) 5)))\nstorage_type (())\nmessages ((approve True ((set_type (params 22) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 23) (verify (invert (attr (data) \"paused\" 88) 24) False 24) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 25) (sender) 25) \"approvals\" 25) (attr (params 22) \"spender\" 25) (literal (intOrNat 0) 25) 25) (literal (intOrNat 0) 26) 26) (eq (attr (params 22) \"value\" 26) (literal (intOrNat 0) 26) 26) 26) \"UnsafeAllowanceChange\" 26) (set (getItem (attr (getItem (attr (data) \"balances\" 25) (sender) 27) \"approvals\" 27) (attr (params 22) \"spender\" 25) 27) (attr (params 22) \"value\" 26) 27))) (burn True ((set_type (params 64) (record ((address \"address\") (value \"nat\")) None) 65) (verify (eq (sender) (attr (data) \"administrator\" 73) 73) False 66) (verify (ge (attr (getItem (attr (data) \"balances\" 25) (attr (params 64) \"address\" 67) 67) \"balance\" 67) (attr (params 64) \"value\" 67) 67) False 67) (set (attr (getItem (attr (data) \"balances\" 25) (attr (params 64) \"address\" 67) 68) \"balance\" 68) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 25) (attr (params 64) \"address\" 67) 68) \"balance\" 68) (attr (params 64) \"value\" 67) 68) 68) \"Some\" 68) 68) (set (attr (data) \"totalSupply\" 69) (openVariant (isNat (sub (attr (data) \"totalSupply\" 69) (attr (params 64) \"value\" 67) 69) 69) \"Some\" 69) 69))) (getAdministrator True ((seq \"__s5\" ((set_type (first (params 82) 5) \"unit\" 83) (result (attr (data) \"administrator\" 73) 84)) 5) (bind \"__s5\" ((set (operations 5) (cons (transfer (getLocal \"__s5\" 5) (literal (mutez 0) 5) (openVariant (contract \"\" \"address\" (second (params 82) 5) 5) \"Some\" 5) 5) (operations 5) 5) 5)) 5))) (getAllowance True ((seq \"__s6\" ((result (getItem (attr (getItem (attr (data) \"balances\" 25) (attr (first (params 38) 5) \"owner\" 39) 39) \"approvals\" 39) (attr (first (params 38) 5) \"spender\" 39) 39) 39)) 5) (bind \"__s6\" ((set (operations 5) (cons (transfer (getLocal \"__s6\" 5) (literal (mutez 0) 5) (openVariant (contract \"\" \"nat\" (second (params 38) 5) 5) \"Some\" 5) 5) (operations 5) 5) 5)) 5))) (getBalance True ((seq \"__s7\" ((result (attr (getItem (attr (data) \"balances\" 25) (first (params 34) 5) 35) \"balance\" 35) 35)) 5) (bind \"__s7\" ((set (operations 5) (cons (transfer (getLocal \"__s7\" 5) (literal (mutez 0) 5) (openVariant (contract \"\" \"nat\" (second (params 34) 5) 5) \"Some\" 5) 5) (operations 5) 5) 5)) 5))) (getTotalSupply True ((seq \"__s8\" ((set_type (first (params 42) 5) \"unit\" 43) (result (attr (data) \"totalSupply\" 69) 44)) 5) (bind \"__s8\" ((set (operations 5) (cons (transfer (getLocal \"__s8\" 5) (literal (mutez 0) 5) (openVariant (contract \"\" \"nat\" (second (params 42) 5) 5) \"Some\" 5) 5) (operations 5) 5) 5)) 5))) (mint True ((set_type (params 56) (record ((address \"address\") (value \"nat\")) None) 57) (verify (eq (sender) (attr (data) \"administrator\" 73) 73) False 58) (ifBlock (invert (contains (attr (data) \"balances\" 25) (attr (params 56) \"address\" 59) 30) 30) ((set (getItem (attr (data) \"balances\" 25) (attr (params 56) \"address\" 59) 31) (record 31 (approvals (map 31 )) (balance (literal (intOrNat 0) 31))) 31)) 30) (set (attr (getItem (attr (data) \"balances\" 25) (attr (params 56) \"address\" 59) 60) \"balance\" 60) (add (attr (getItem (attr (data) \"balances\" 25) (attr (params 56) \"address\" 59) 60) \"balance\" 60) (attr (params 56) \"value\" 60) 60) 60) (set (attr (data) \"totalSupply\" 69) (add (attr (data) \"totalSupply\" 69) (attr (params 56) \"value\" 60) 61) 61))) (setAdministrator True ((set_type (params 76) \"address\" 77) (verify (eq (sender) (attr (data) \"administrator\" 73) 73) False 78) (set (attr (data) \"administrator\" 73) (params 76) 79))) (setPause True ((set_type (params 91) \"bool\" 92) (verify (eq (sender) (attr (data) \"administrator\" 73) 73) False 93) (set (attr (data) \"paused\" 88) (params 91) 94))) (transfer True ((set_type (params 8) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_\") ((\"to_\") (\"value\"))))) 9) (verify (or (eq (sender) (attr (data) \"administrator\" 73) 73) (and (invert (attr (data) \"paused\" 88) 11) (or (eq (attr (params 8) \"from_\" 12) (sender) 12) (ge (getItem (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"from_\" 12) 13) \"approvals\" 13) (sender) 13) (attr (params 8) \"value\" 13) 13) 12) 11) 10) False 10) (ifBlock (invert (contains (attr (data) \"balances\" 25) (attr (params 8) \"to_\" 14) 30) 30) ((set (getItem (attr (data) \"balances\" 25) (attr (params 8) \"to_\" 14) 31) (record 31 (approvals (map 31 )) (balance (literal (intOrNat 0) 31))) 31)) 30) (verify (ge (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"from_\" 12) 15) \"balance\" 15) (attr (params 8) \"value\" 13) 15) False 15) (set (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"from_\" 12) 16) \"balance\" 16) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"from_\" 12) 16) \"balance\" 16) (attr (params 8) \"value\" 13) 16) 16) \"Some\" 16) 16) (set (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"to_\" 14) 17) \"balance\" 17) (add (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"to_\" 14) 17) \"balance\" 17) (attr (params 8) \"value\" 13) 17) 17) (ifBlock (and (neq (attr (params 8) \"from_\" 12) (sender) 18) (invert (eq (sender) (attr (data) \"administrator\" 73) 73) 18) 18) ((set (getItem (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"from_\" 12) 19) \"approvals\" 19) (sender) 19) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 25) (attr (params 8) \"from_\" 12) 19) \"approvals\" 19) (sender) 19) (attr (params 8) \"value\" 13) 19) 19) \"Some\" 19) 19)) 18))))\nflags ()\nglobals ()\nstorage_layout ()\nentry_points_layout ())", "line_no": 291, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 0, "export": "(storage (record 111 (allowance (literal (intOrNat 0) 111)) (balance (literal (intOrNat 0) 111)) (extraNonce (type_annotation (map 120 ) (map (unknown 2) (record ((value \"nat\")) None)) 120)) (owner (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (reqGasPrice (variant \"None\" (unit) -1)) (reqPeriodSeconds (variant \"None\" (unit) -1)) (reqToAddress (variant \"None\" (unit) -1)) (reqTokenAddress (variant \"None\" (unit) -1)) (reqTokenAmount (variant \"None\" (unit) -1)) (times (type_annotation (big_map 112 ) (bigmap \"bytes\" (record ((active \"bool\") (nextValidTimeStamp \"timestamp\") (ready \"bool\")) None)) 112)))\nstorage_type (())\nmessages ((cancelSub True ((set_type (params 234) (record ((gasPrice \"nat\") (nonce \"nat\") (periodSeconds \"int\") (publisher \"address\") (subs_pub_key \"key\") (subscriber \"address\") (tokenAddress \"address\") (tokenAmount \"nat\") (userSignature \"signature\")) (Some ((\"subscriber\") ((\"publisher\") ((\"tokenAddress\") ((\"tokenAmount\") ((\"periodSeconds\") ((\"gasPrice\") ((\"nonce\") ((\"userSignature\") (\"subs_pub_key\"))))))))))) 235) (set_type (record 236 (gasPrice (attr (params 234) \"gasPrice\" 242)) (nonce (attr (params 234) \"nonce\" 243)) (periodSeconds (attr (params 234) \"periodSeconds\" 241)) (publisher (attr (params 234) \"publisher\" 238)) (subscriber (attr (params 234) \"subscriber\" 237)) (tokenAddress (attr (params 234) \"tokenAddress\" 239)) (tokenAmount (attr (params 234) \"tokenAmount\" 240))) (record ((gasPrice \"nat\") (nonce \"nat\") (periodSeconds \"int\") (publisher \"address\") (subscriber \"address\") (tokenAddress \"address\") (tokenAmount \"nat\")) (Some ((\"subscriber\") ((\"publisher\") ((\"tokenAddress\") ((\"tokenAmount\") ((\"periodSeconds\") ((\"gasPrice\") (\"nonce\"))))))))) 153) (verify (or (invert (isVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) 154) (and (isVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) (eq (openVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) (attr (params 234) \"publisher\" 238) 154) 154) 154) False 154) (verify (or (invert (isVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) 155) (and (isVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) (eq (openVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) (attr (params 234) \"tokenAddress\" 239) 155) 155) 155) False 155) (verify (or (invert (isVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) 156) (and (isVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) (eq (openVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) (attr (params 234) \"tokenAmount\" 240) 156) 156) 156) False 156) (verify (or (invert (isVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) 157) (and (isVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) (eq (openVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) (attr (params 234) \"periodSeconds\" 241) 157) 157) 157) False 157) (verify (or (invert (isVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) 158) (and (isVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) (eq (openVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) (attr (params 234) \"gasPrice\" 242) 158) 158) 158) False 158) (defineLocal \"elements\" (pack (record 161 (a (attr (params 234) \"subscriber\" 237)) (b (attr (params 234) \"publisher\" 238)) (c (attr (params 234) \"tokenAddress\" 239)) (d (attr (params 234) \"tokenAmount\" 240)) (e (attr (params 234) \"periodSeconds\" 241)) (f (attr (params 234) \"gasPrice\" 242)) (g (attr (params 234) \"nonce\" 243))) 160) 236) (verify (check_signature (attr (params 234) \"subs_pub_key\" 246) (attr (params 234) \"userSignature\" 246) (getLocal \"elements\" 246) 246) False 246) (verify (eq (sender) (attr (params 234) \"subscriber\" 237) 247) False 247) (set (attr (getItem (attr (data) \"times\" 248) (getLocal \"elements\" 248) 248) \"nextValidTimeStamp\" 248) (literal (timestamp -1) 248) 248))) (executeSubs True ((set_type (params 194) (record ((gasPrice \"nat\") (nonce \"nat\") (periodSeconds \"int\") (publisher \"address\") (subs_pub_key \"key\") (subscriber \"address\") (tokenAddress \"address\") (tokenAmount \"nat\") (userSignature \"signature\")) (Some ((\"subscriber\") ((\"publisher\") ((\"tokenAddress\") ((\"tokenAmount\") ((\"periodSeconds\") ((\"gasPrice\") ((\"nonce\") ((\"userSignature\") (\"subs_pub_key\"))))))))))) 195) (set_type (record 196 (gasPrice (attr (params 194) \"gasPrice\" 202)) (nonce (attr (params 194) \"nonce\" 203)) (periodSeconds (attr (params 194) \"periodSeconds\" 201)) (publisher (attr (params 194) \"publisher\" 198)) (subscriber (attr (params 194) \"subscriber\" 197)) (tokenAddress (attr (params 194) \"tokenAddress\" 199)) (tokenAmount (attr (params 194) \"tokenAmount\" 200))) (record ((gasPrice \"nat\") (nonce \"nat\") (periodSeconds \"int\") (publisher \"address\") (subscriber \"address\") (tokenAddress \"address\") (tokenAmount \"nat\")) (Some ((\"subscriber\") ((\"publisher\") ((\"tokenAddress\") ((\"tokenAmount\") ((\"periodSeconds\") ((\"gasPrice\") (\"nonce\"))))))))) 153) (verify (or (invert (isVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) 154) (and (isVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) (eq (openVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) (attr (params 194) \"publisher\" 198) 154) 154) 154) False 154) (verify (or (invert (isVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) 155) (and (isVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) (eq (openVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) (attr (params 194) \"tokenAddress\" 199) 155) 155) 155) False 155) (verify (or (invert (isVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) 156) (and (isVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) (eq (openVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) (attr (params 194) \"tokenAmount\" 200) 156) 156) 156) False 156) (verify (or (invert (isVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) 157) (and (isVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) (eq (openVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) (attr (params 194) \"periodSeconds\" 201) 157) 157) 157) False 157) (verify (or (invert (isVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) 158) (and (isVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) (eq (openVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) (attr (params 194) \"gasPrice\" 202) 158) 158) 158) False 158) (defineLocal \"elements\" (pack (record 161 (a (attr (params 194) \"subscriber\" 197)) (b (attr (params 194) \"publisher\" 198)) (c (attr (params 194) \"tokenAddress\" 199)) (d (attr (params 194) \"tokenAmount\" 200)) (e (attr (params 194) \"periodSeconds\" 201)) (f (attr (params 194) \"gasPrice\" 202)) (g (attr (params 194) \"nonce\" 203))) 160) 196) (set_type (record 206 (gasPrice (attr (params 194) \"gasPrice\" 202)) (nonce (attr (params 194) \"nonce\" 203)) (periodSeconds (attr (params 194) \"periodSeconds\" 201)) (publisher (attr (params 194) \"publisher\" 198)) (subs_pub_key (attr (params 194) \"subs_pub_key\" 215)) (subscriber (attr (params 194) \"subscriber\" 197)) (tokenAddress (attr (params 194) \"tokenAddress\" 199)) (tokenAmount (attr (params 194) \"tokenAmount\" 200)) (userSignature (attr (params 194) \"userSignature\" 214))) (record ((gasPrice \"nat\") (nonce \"nat\") (periodSeconds \"int\") (publisher \"address\") (subs_pub_key \"key\") (subscriber \"address\") (tokenAddress \"address\") (tokenAmount \"nat\") (userSignature \"signature\")) (Some ((\"subscriber\") ((\"publisher\") ((\"tokenAddress\") ((\"tokenAmount\") ((\"periodSeconds\") ((\"gasPrice\") ((\"nonce\") ((\"userSignature\") (\"subs_pub_key\"))))))))))) 174) (set_type (record 176 (gasPrice (attr (params 194) \"gasPrice\" 202)) (nonce (attr (params 194) \"nonce\" 203)) (periodSeconds (attr (params 194) \"periodSeconds\" 201)) (publisher (attr (params 194) \"publisher\" 198)) (subscriber (attr (params 194) \"subscriber\" 197)) (tokenAddress (attr (params 194) \"tokenAddress\" 199)) (tokenAmount (attr (params 194) \"tokenAmount\" 200))) (record ((gasPrice \"nat\") (nonce \"nat\") (periodSeconds \"int\") (publisher \"address\") (subscriber \"address\") (tokenAddress \"address\") (tokenAmount \"nat\")) (Some ((\"subscriber\") ((\"publisher\") ((\"tokenAddress\") ((\"tokenAmount\") ((\"periodSeconds\") ((\"gasPrice\") (\"nonce\"))))))))) 153) (verify (or (invert (isVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) 154) (and (isVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) (eq (openVariant (attr (data) \"reqToAddress\" 154) \"Some\" 154) (attr (params 194) \"publisher\" 198) 154) 154) 154) False 154) (verify (or (invert (isVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) 155) (and (isVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) (eq (openVariant (attr (data) \"reqTokenAddress\" 155) \"Some\" 155) (attr (params 194) \"tokenAddress\" 199) 155) 155) 155) False 155) (verify (or (invert (isVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) 156) (and (isVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) (eq (openVariant (attr (data) \"reqTokenAmount\" 156) \"Some\" 156) (attr (params 194) \"tokenAmount\" 200) 156) 156) 156) False 156) (verify (or (invert (isVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) 157) (and (isVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) (eq (openVariant (attr (data) \"reqPeriodSeconds\" 157) \"Some\" 157) (attr (params 194) \"periodSeconds\" 201) 157) 157) 157) False 157) (verify (or (invert (isVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) 158) (and (isVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) (eq (openVariant (attr (data) \"reqGasPrice\" 158) \"Some\" 158) (attr (params 194) \"gasPrice\" 202) 158) 158) 158) False 158) (defineLocal \"element\" (pack (record 161 (a (attr (params 194) \"subscriber\" 197)) (b (attr (params 194) \"publisher\" 198)) (c (attr (params 194) \"tokenAddress\" 199)) (d (attr (params 194) \"tokenAmount\" 200)) (e (attr (params 194) \"periodSeconds\" 201)) (f (attr (params 194) \"gasPrice\" 202)) (g (attr (params 194) \"nonce\" 203))) 160) 175) (ifBlock (invert (contains (attr (data) \"times\" 248) (getLocal \"element\" 186) 145) 145) ((set (getItem (attr (data) \"times\" 248) (getLocal \"element\" 186) 146) (record 146 (active (literal (bool False) 146)) (nextValidTimeStamp (literal (timestamp -1) 146)) (ready (literal (bool False) 146))) 146)) 145) (set (attr (getItem (attr (data) \"times\" 248) (getLocal \"element\" 187) 187) \"ready\" 187) (literal (bool False) 187) 187) (verify (check_signature (attr (params 194) \"subs_pub_key\" 215) (attr (params 194) \"userSignature\" 214) (getLocal \"element\" 188) 188) False 188) (verify (neq (attr (params 194) \"subscriber\" 197) (attr (params 194) \"publisher\" 198) 189) False 189) (verify (ge (now) (attr (getItem (attr (data) \"times\" 248) (getLocal \"element\" 190) 190) \"nextValidTimeStamp\" 190) 190) False 190) (set (attr (getItem (attr (data) \"times\" 248) (getLocal \"element\" 191) 191) \"ready\" 191) (literal (bool True) 191) 191) (verify (eq (attr (getItem (attr (data) \"times\" 248) (getLocal \"elements\" 218) 218) \"ready\" 218) (literal (bool True) 218) 218) False 218) (set (attr (getItem (attr (data) \"times\" 248) (getLocal \"elements\" 219) 219) \"nextValidTimeStamp\" 219) (add_seconds (now) (attr (params 194) \"periodSeconds\" 201) 219) 219) (ifBlock (invert (contains (attr (data) \"extraNonce\" 149) (attr (params 194) \"subscriber\" 197) 149) 149) ((set (getItem (attr (data) \"extraNonce\" 149) (attr (params 194) \"subscriber\" 197) 150) (record 150 (value (literal (intOrNat 0) 150))) 150)) 149) (ifBlock (gt (attr (params 194) \"nonce\" 203) (attr (getItem (attr (data) \"extraNonce\" 149) (attr (params 194) \"subscriber\" 197) 221) \"value\" 221) 221) ((set (attr (getItem (attr (data) \"extraNonce\" 149) (attr (params 194) \"subscriber\" 197) 222) \"value\" 222) (attr (params 194) \"nonce\" 203) 222)) 221) (set (operations 226) (cons (transfer (record 225 (from_ (attr (params 194) \"subscriber\" 197)) (to_ (attr (params 194) \"publisher\" 198)) (value (attr (params 194) \"tokenAmount\" 200))) (literal (mutez 0) 226) (openVariant (contract \"transfer\" (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) (attr (params 194) \"tokenAddress\" 199) 224) \"Some\" 224) 226) (operations 226) 226) 226) (ifBlock (gt (attr (params 194) \"gasPrice\" 202) (literal (intOrNat 0) 228) 228) ((set (operations 231) (cons (transfer (record 230 (from_ (attr (params 194) \"subscriber\" 197)) (to_ (sender)) (value (attr (params 194) \"gasPrice\" 202))) (literal (mutez 0) 231) (openVariant (contract \"transfer\" (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) None) (attr (params 194) \"tokenAddress\" 199) 229) \"Some\" 229) 231) (operations 231) 231) 231)) 228))))\nflags ()\nglobals ()\nstorage_layout ()\nentry_points_layout ())", "line_no": 292, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h1", "inner": "Test 1", "line_no": 300}, {"action": "html", "tag": "h2", "inner": "Mint for Alice First", "line_no": 301}, {"action": "message", "id": 1, "message": "mint", "params": "(record 302 (address (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (value (literal (intOrNat 1200) 302)))", "line_no": 302, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": 0, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Approve First", "line_no": 304}, {"action": "message", "id": 1, "message": "approve", "params": "(record 305 (spender (literal (local-address 0) 111)) (value (literal (intOrNat 1200) 305)))", "line_no": 305, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": 0, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Execute Subscription", "line_no": 314}, {"action": "message", "id": 0, "message": "executeSubs", "params": "(record 315 (gasPrice (literal (intOrNat 0) 315)) (nonce (literal (intOrNat 1) 315)) (periodSeconds (literal (intOrNat 60) 315)) (publisher (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (subs_pub_key (reduce (attr (account_of_seed \"Alice\" 262) \"public_key\" 262) 262)) (subscriber (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (tokenAddress (literal (local-address 1) 5)) (tokenAmount (literal (intOrNat 100) 315)) (userSignature (reduce (make_signature (reduce (attr (account_of_seed \"Alice\" 262) \"secret_key\" 262) 262) (pack (record 295 (a (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (b (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (c (literal (local-address 1) 5)) (d (literal (intOrNat 100) 295)) (e (literal (intOrNat 60) 295)) (f (literal (intOrNat 0) 295)) (g (literal (intOrNat 1) 295))) 295) \"Raw\" 296) 296)))", "line_no": 315, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": 0, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Execute Subscription - 2", "line_no": 324}, {"action": "message", "id": 0, "message": "executeSubs", "params": "(record 325 (gasPrice (literal (intOrNat 0) 325)) (nonce (literal (intOrNat 1) 325)) (periodSeconds (literal (intOrNat 60) 325)) (publisher (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (subs_pub_key (reduce (attr (account_of_seed \"Alice\" 262) \"public_key\" 262) 262)) (subscriber (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (tokenAddress (literal (local-address 1) 5)) (tokenAmount (literal (intOrNat 100) 325)) (userSignature (reduce (make_signature (reduce (attr (account_of_seed \"Alice\" 262) \"secret_key\" 262) 262) (pack (record 295 (a (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (b (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (c (literal (local-address 1) 5)) (d (literal (intOrNat 100) 295)) (e (literal (intOrNat 60) 295)) (f (literal (intOrNat 0) 295)) (g (literal (intOrNat 1) 295))) 295) \"Raw\" 296) 296)))", "line_no": 325, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": 60, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Cancel Subscription", "line_no": 333}, {"action": "message", "id": 0, "message": "cancelSub", "params": "(record 334 (gasPrice (literal (intOrNat 0) 334)) (nonce (literal (intOrNat 1) 334)) (periodSeconds (literal (intOrNat 60) 334)) (publisher (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (subs_pub_key (reduce (attr (account_of_seed \"Alice\" 262) \"public_key\" 262) 262)) (subscriber (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (tokenAddress (literal (local-address 1) 5)) (tokenAmount (literal (intOrNat 100) 334)) (userSignature (reduce (make_signature (reduce (attr (account_of_seed \"Alice\" 262) \"secret_key\" 262) 262) (pack (record 295 (a (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (b (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (c (literal (local-address 1) 5)) (d (literal (intOrNat 100) 295)) (e (literal (intOrNat 60) 295)) (f (literal (intOrNat 0) 295)) (g (literal (intOrNat 1) 295))) 295) \"Raw\" 296) 296)))", "line_no": 334, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": 60, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h1", "inner": "Test 2", "line_no": 338}, {"action": "html", "tag": "h2", "inner": "Mint for Alice First", "line_no": 344}, {"action": "message", "id": 1, "message": "mint", "params": "(record 345 (address (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (value (literal (intOrNat 1200) 345)))", "line_no": 345, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": 0, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Execute Subscription", "line_no": 354}, {"action": "message", "id": 0, "message": "executeSubs", "params": "(record 355 (gasPrice (literal (intOrNat 5) 355)) (nonce (literal (intOrNat 1) 355)) (periodSeconds (literal (intOrNat 60) 355)) (publisher (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (subs_pub_key (reduce (attr (account_of_seed \"Alice\" 262) \"public_key\" 262) 262)) (subscriber (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (tokenAddress (literal (local-address 1) 5)) (tokenAmount (literal (intOrNat 100) 355)) (userSignature (reduce (make_signature (reduce (attr (account_of_seed \"Alice\" 262) \"secret_key\" 262) 262) (pack (record 339 (a (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (b (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (c (literal (local-address 1) 5)) (d (literal (intOrNat 100) 339)) (e (literal (intOrNat 60) 339)) (f (literal (intOrNat 5) 339)) (g (literal (intOrNat 1) 339))) 339) \"Raw\" 340) 340)))", "line_no": 355, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": 60, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Execute Subscription - 2", "line_no": 364}, {"action": "message", "id": 0, "message": "executeSubs", "params": "(record 365 (gasPrice (literal (intOrNat 5) 365)) (nonce (literal (intOrNat 1) 365)) (periodSeconds (literal (intOrNat 60) 365)) (publisher (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (subs_pub_key (reduce (attr (account_of_seed \"Alice\" 262) \"public_key\" 262) 262)) (subscriber (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (tokenAddress (literal (local-address 1) 5)) (tokenAmount (literal (intOrNat 100) 365)) (userSignature (reduce (make_signature (reduce (attr (account_of_seed \"Alice\" 262) \"secret_key\" 262) 262) (pack (record 339 (a (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (b (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (c (literal (local-address 1) 5)) (d (literal (intOrNat 100) 339)) (e (literal (intOrNat 60) 339)) (f (literal (intOrNat 5) 339)) (g (literal (intOrNat 1) 339))) 339) \"Raw\" 340) 340)))", "line_no": 365, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": 120, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}, {"action": "html", "tag": "h2", "inner": "Cancel Subscription", "line_no": 373}, {"action": "message", "id": 0, "message": "cancelSub", "params": "(record 374 (gasPrice (literal (intOrNat 5) 374)) (nonce (literal (intOrNat 1) 374)) (periodSeconds (literal (intOrNat 60) 374)) (publisher (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (subs_pub_key (reduce (attr (account_of_seed \"Alice\" 262) \"public_key\" 262) 262)) (subscriber (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (tokenAddress (literal (local-address 1) 5)) (tokenAmount (literal (intOrNat 100) 374)) (userSignature (reduce (make_signature (reduce (attr (account_of_seed \"Alice\" 262) \"secret_key\" 262) 262) (pack (record 339 (a (reduce (attr (account_of_seed \"Alice\" 262) \"address\" 262) 262)) (b (reduce (attr (account_of_seed \"Administrator\" 261) \"address\" 261) 261)) (c (literal (local-address 1) 5)) (d (literal (intOrNat 100) 339)) (e (literal (intOrNat 60) 339)) (f (literal (intOrNat 5) 339)) (g (literal (intOrNat 1) 339))) 339) \"Raw\" 340) 340)))", "line_no": 374, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": 120, "amount": "(literal (mutez 0) 1)", "level": 0, "show": true, "valid": true}]}]